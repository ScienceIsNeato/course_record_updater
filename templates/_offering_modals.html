<!-- Shared Offering Management Modals -->

<!-- Create Offering Modal -->
<div
  class="modal fade"
  id="createOfferingModal"
  tabindex="-1"
  aria-labelledby="createOfferingModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="createOfferingModalLabel">
          Create New Course Offering
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <form id="createOfferingForm">
        <div class="modal-body">
          <div class="mb-3">
            <label for="offeringCourseId" class="form-label">Course *</label>
            <select
              class="form-control"
              id="offeringCourseId"
              name="course_id"
              required
            >
              <option value="">Select Course</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="offeringTermId" class="form-label">Term *</label>
            <select
              class="form-control"
              id="offeringTermId"
              name="term_id"
              required
            >
              <option value="">Select Term</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="offeringProgramId" class="form-label">Program *</label>
            <select
              class="form-control"
              id="offeringProgramId"
              name="program_id"
              required
            >
              <option value="">Select Program</option>
            </select>
            <small class="form-text text-muted"
              >Which program is this offering for?</small
            >
          </div>

          <hr />
          <h6>Sections</h6>
          <div id="sectionsContainer">
            <!-- Default Section Row -->
            <div class="section-row row mb-2 align-items-end" data-index="0">
              <div class="col-md-10">
                <label class="form-label small">Section Number</label>
                <input
                  type="text"
                  class="form-control form-control-sm section-number"
                  name="section-number-0"
                  value="001"
                  readonly
                />
              </div>
              <div class="col-md-2">
                <!-- No delete for first row -->
              </div>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-sm btn-outline-secondary mt-2"
            id="addSectionBtn"
          >
            <i class="fas fa-plus"></i> Add Section
          </button>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
          <button type="submit" class="btn btn-primary" id="createOfferingBtn">
            <span class="btn-text">Create Offering</span>
            <span class="btn-spinner d-none">
              <span
                class="spinner-border spinner-border-sm"
                aria-hidden="true"
              ></span>
              Creating...
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Edit Offering Modal -->
<div
  class="modal fade"
  id="editOfferingModal"
  tabindex="-1"
  aria-labelledby="editOfferingModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editOfferingModalLabel">
          Edit Course Offering
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <form id="editOfferingForm">
        <input type="hidden" id="editOfferingId" />
        <div class="modal-body">
          <div class="mb-3">
            <label for="editOfferingCourse" class="form-label">Course</label>
            <input
              type="text"
              class="form-control"
              id="editOfferingCourse"
              disabled
            />
          </div>
          <div class="mb-3">
            <label for="editOfferingTerm" class="form-label">Term</label>
            <select class="form-control" id="editOfferingTerm" required>
              <option value="">Loading terms...</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="editOfferingProgramId" class="form-label"
              >Program *</label
            >
            <select class="form-control" id="editOfferingProgramId" required>
              <option value="">Select Program</option>
            </select>
            <small class="form-text text-muted"
              >Which program is this offering for?</small
            >
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
          <button type="submit" class="btn btn-primary">
            <span class="btn-text">Update</span>
            <span class="btn-spinner d-none">
              <span
                class="spinner-border spinner-border-sm"
                aria-hidden="true"
              ></span>
              Updating...
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
